{
  "$schema": "http://json-schema.org/draft-07/schema",
  "type": "object",
  "properties": {
    "service": {
      "type": "object",
      "properties": {
        "image": {
          "type": "object",
          "properties": {
            "version": { "type": "string" },
            "pullPolicy": { "type": "string", "enum": ["IfNotPresent", "Always", "Never"] },
            "custom": {
              "type": "object",
              "properties": {
                "enabled": { "type": "boolean" },
                "version": { "type": "string" }
              }
            }
          }
        }
      }
    },
    "postgres": {
      "type": "object",
      "properties": {
        "image": { "type": "string" },
        "database": { "type": "string" },
        "username": { "type": "string" },
        "password": { "type": "string" },
        "pgdata": { "type": "string" }
      }
    },
    "guacd": {
      "type": "object",
      "properties": {
        "image": { "type": "string" }
      }
    },
    "guacamole": {
      "type": "object",
      "properties": {
        "extensions": { "type": "string" }
      }
    },
    "extraEnvVars": {
      "type": "array",
      "default": [],
      "items": {
        "type": "object",
        "properties": {
          "name": { "type": "string", "pattern": "^[a-zA-Z0-9_]+$" },
          "value": { "type": "string" }
        }
      }
    },
    "persistence": {
      "type": "object",
      "properties": {
        "drive": {
          "type": "object",
          "properties": {
            "enabled": { "type": "boolean" },
            "accessMode": { "type": "string" },
            "size": { "type": "string" },
            "storageClassName": { "type": "string" }
          }
        },
        "record": {
          "type": "object",
          "properties": {
            "enabled": { "type": "boolean" },
            "accessMode": { "type": "string" },
            "size": { "type": "string" },
            "storageClassName": { "type": "string" }
          }
        },
        "postgres": {
          "type": "object",
          "properties": {
            "enabled": { "type": "boolean" },
            "accessMode": { "type": "string" },
            "size": { "type": "string" },
            "storageClassName": { "type": "string" }
          }
        }
      }
    },
    "networking": {
      "type": "object",
      "properties": {
        "type": { "type": "string" },
        "clusterIP": { "type": "string" },
        "service": {
          "type": "object",
          "properties": {
            "port": { "type": "integer" },
            "targetPort": { "type": "integer" }
          }
        }
      }
    },
    "ingress": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" },
        "tls": { "type": "boolean" },
        "ingressClassName": { "type": "string" },
        "hostname": { "type": "string" },
        "userHostname": { "type": "string" },
        "secretName": { "type": "string" }
      }
    },
    "route": {
      "type": "object",
      "properties": {
        "enabled": { "type": "boolean" }
      }
    }
  }
}
